# Grafo de Dependências

```mermaid
flowchart LR
    "Mensagem chegando?" -- main --> "Tipo de mensagem"
    "Mensagem recebida" -- main --> "Info"
    "Mensagem encavalada?" -- main --> "Limpar fila de mensagens"
    "Buscar mensagens" -- main --> "Mensagem encavalada?"
    "Concatenar mensagens" -- main --> "Atendente"
    "Limpar fila de mensagens" -- main --> "controle atendimentos"
    "Esperar" -- main --> "Buscar mensagens"
    "Tipo de mensagem" -- main --> "Enfileirar mensagem."
    "Tipo de mensagem" -- main --> "HTTP Request1"
    "Transcrever áudio" -- main --> "controle atendimentos1"
    "Resetar status" -- main --> "Responder mensagem áudio"
    "Converter áudio para base64" -- main --> "Resetar status"
    "Gerar áudio" -- main --> "Converter áudio para base64"
    "Formatar SSML" -- main --> "Gerar áudio"
    "Tipo de mensagem1" -- main --> "Code"
    "Tipo de mensagem1" -- main --> "Formatar SSML"
    "Memory" -- ai_memory --> "Atendente"
    "Converter base64 para áudio." -- main --> "Transcrever áudio"
    "Enfileirar mensagem." -- main --> "Esperar"
    "Google Gemini Chat Model." -- ai_languageModel --> "Formatar SSML"
    "Info" -- main --> "Mensagem chegando?"
    "Atendente" -- main --> "atualiza atendimento"
    "enviar_pedido" -- ai_tool --> "Atendente"
    "maps" -- ai_tool --> "Atendente"
    "cardapio" -- ai_tool --> "Atendente"
    "cancelar_pedido" -- ai_tool --> "Atendente"
    "Code" -- main --> "Loop Over Items"
    "Loop Over Items" -- main --> "HTTP Request"
    "HTTP Request" -- main --> "Loop Over Items"
    "Concatenar mensagens1" -- main --> "Atendente"
    "HTTP Request1" -- main --> "Converter base64 para áudio."
    "HTTP Request1" -- main --> "HTTP Request2"
    "HTTP Request2" -- main --> "Converter base64 para áudio."
    "historico" -- ai_tool --> "Atendente"
    "Marcar como lida texto" -- main --> "Concatenar mensagens"
    "controle atendimentos" -- main --> "Marcar como lida texto"
    "atualiza atendimento" -- main --> "Tipo de mensagem1"
    "Marcar como lida audio" -- main --> "Concatenar mensagens1"
    "Google Gemini Chat Model" -- ai_languageModel --> "Atendente"
    "controle atendimentos1" -- main --> "Marcar como lida audio"
```
